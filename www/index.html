<!DOCTYPE html>

<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />             
        <title>Tic Tac Toe</title>
		
		<!--A Style tag within an html page shows how you want 
		items on the web page to look.  On this page I have defined
		a class called tictactoe box.  I want it to be square and have 
		large text that is centered.  This tic tac toe box
		will contain either the X or the O of a tic tac toe game.
		
		On a style tag a class is defined by using a period then the name of the class.
		Curly brackets define the start and the end of the class.  Items that are being altered
		have to be included from a specified value folllowed by the colan.
		
		
		The other item on the page I want to define is the reset button.
		Since this is the only button on this page.  I can overwrite the 
		look of all buttons that would be in this page.
		
		An html page can have lots of  style options.  So instead of putting them on the html page in script tags,  
		they can be placed on a separate file and referenced in the 
		html file. The file is called a css (cascading style sheet) file.
		 
		
		
		-->
		
		<style>
						.tictactoebox {
						width: 100px;
						height: 100px;
						font-size: 50pt;
						text-align:center;
					}

					button{
						width:300px;
						height:70px;
						font-size: 30pt;
						background-color:blue;
						color:white;
						
					}
		
		</style>
		
		<script type="text/javascript" src="phonegap.js"></script>
       	<script type="text/javascript" src="js/jquery-1.8.2.js"></script>
		
		<script>
		
		
		//global variables
		
		var gamewon=false;
		
		//event listeners
		
		$(".tictactoebox").click(markX);
		$("#btnClear").click(clearSquares)
		
		
		
		
		//functions
		
		function determineIfGameWon()
		{
			
			
			determineWinner(1,2,3);
			determineWinner(2,5,8);
			determineWinner(3,6,9);
			determineWinner(1,5,9);
			determineWinner(4,5,6);
			determineWinner(7,8,9);
			determineWinner(3,5,7);
			determineWinner(1,4,7);
			
		
		
		
		}
		function determineWinner(x,y,z)
		{
			
			
			if 
			(
				$("#txtBox" + x).html()== $("#txtBox" + y).html() &&
				$("#txtBox" + x).html()== $("#txtBox" + z).html() &&
				$("#txtBox" + x).html()!= ""
				
			)
			{
				makeRed(x,y,z);
				alert($("#txtBox" + x).html() + " wins!!!!!")
				gamewon=true;
				
				
			}
		}
		
		
		function makeRed(x,y,z)
		{
			var box ="#txtBox" + x;
			var box2 ="#txtBox" + y;
			var box3 ="#txtBox" + z;
			
			$(box).css('color', 'red');
			$(box2).css('color', 'red');
			$(box3).css('color', 'red');
		}
		
		
		function markX()
		{
			if(gamewon==false)
			{
				var box ="#" + event.target.id;
				$(box).html("X")
				determineIfGameWon();
				if(gamewon==false)
				{
					findOpenSquare();
					determineIfGameWon();
				}
			
			
			}
		}
		
	
		function clearSquares()
		{
			for (x=0;x<10;x++)
			{
				var txtBoxToClear = "#txtBox" + x;
				$(txtBoxToClear).html("");
				$(txtBoxToClear).css('color', 'black');
				gamewon=false;
				
			
			
			}
		
		
		
		
		}
		
		function findOpenSquare()
		{
			
			var x=1;
			var changemade=false;
			while(x<10)
			{
			
				var txtBoxToCheck = "#txtBox" + x;
				if ($(txtBoxToCheck).html()=="")
				{
					$(txtBoxToCheck).html("O");
					changemade=true;
								
				}
				
				if (changemade==true)
					break;
				else
					x++;
			
			
			}
			
		}
		
		</script>
    </head>
    <body>
			
		
        
        
       

		<h2>Tic Tac Toe</h2>
		
		<table border="1">
		<tr>
			<td><div  id="txtBox1" class="tictactoebox"/></td>
			<td><div  id="txtBox2" class="tictactoebox"/></td>
			<td><div  id="txtBox3"class="tictactoebox"/></td>
		
		</tr>
		<tr>
			<td><div  id="txtBox4"class="tictactoebox"/></td>
			<td><div  id="txtBox5"class="tictactoebox"/></td>
			<td><div  id="txtBox6"class="tictactoebox"/></td>
		
		</tr>
		<tr>
			<td><div  id="txtBox7"class="tictactoebox"/></td>
			<td><div  id="txtBox8"class="tictactoebox"/></td>
			<td><div  id="txtBox9"class="tictactoebox"/></td>
		
		</tr>
		</table>
		<br/>
		<button id="btnClear">Clear</button>
		
		<script>
		
		
		//event listeners
		
		$(".tictactoebox").click(markX);
		$("#btnClear").click(clearSquares)
		
		</script>
		
		

    </body>
</html>
